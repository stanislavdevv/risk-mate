// app/strings.ts
export type Lang = "en" | "de" | "es" | "fr" | "ru";

type Dict = Record<string, string>;
type Dictionaries = Record<Lang, Dict>;

export const SUPPORTED_LANGS: Lang[] = ["en", "de", "es", "fr", "ru"];
export function parseLang(raw: string | null): Lang {
    const v = String(raw ?? "en").toLowerCase().trim();
    if (SUPPORTED_LANGS.includes(v as Lang)) return v as Lang;
    return "en";
}
export const STRINGS: Dictionaries = {
    en: {
        appName: "RiskMate",
        navHome: "Home",
        navAdditional: "Additional page",
        storeCurrency: "Store currency",
        currencyUnknown: "Unknown",
        tabOrders: "Orders",
        tabRules: "Rules",
        tabEvents: "Events",

        setupChecklistTitle: "Setup checklist",
        setupChecklistSubtitle: "2 steps to start seeing consistent risk checks.",
        setup: "Setup",
        createRulesTitle: "Create rules",
        createRulesDone: "Rules are configured.",
        createRulesTodo: "Go to Rules tab and add your first rules.",
        receiveWebhooksTitle: "Receive webhook events",
        receiveWebhooksDone: "Webhook events are arriving and checks are being saved.",
        receiveWebhooksTodo: "Create a test order and update it to trigger orders/create and orders/updated.",
        quickLink: "Quick link",
        openOrdersInAdmin: "Open Orders in Admin",

        ordersTitle: "Orders",
        all: "All",
        high: "High",
        medium: "Medium",
        low: "Low",

        noChecksYetTitle: "Nothing here yet",
        noChecksYetText: "No checks yet. Create or update a test order to trigger webhooks.",

        thLastEvent: "Last event",
        thUpdated: "Updated",
        thOrder: "Order",
        thScore: "Score",
        thRisk: "Risk",
        thTopReasons: "Top reasons",
        thLink: "Link",
        open: "Open",

        riskChanged: "Risk changed",
        decision: "Decision",
        decisionAllow: "Allow",
        decisionReview: "Review",
        decisionHold: "Hold",
        rulesVersionLabel: "Ruleset",
        evaluatedWithRuleset: "Evaluated with ruleset",
        rulesetUnknown: "No ruleset",
        rulesetEmpty: "Ruleset has no rules",
        rulesetFilterLabel: "Ruleset",
        rulesetAll: "All rulesets",
        deprecated: "Deprecated",
        skipped: "Skipped",
        simulateWithCurrent: "Simulate with current rules",
        simulating: "Simulating…",
        current: "Current",
        simulated: "Simulated",
        score: "Score",
        scoreDiff: "Score diff",
        matchedRulesDiff: "Matched rules diff",
        added: "Added",
        removed: "Removed",
        skippedTooltipUnchanged: "No meaningful order changes detected",
        skippedTooltipOutOfOrder: "A newer event already exists for this order",
        skippedTooltipNoRules: "No enabled rules matched this order",
        skippedTooltipGeneric: "Skipped: {reason}",

        rulesTitle: "Rules",
        rulesSubtitle: "Inline edit · thresholds are in",
        saved: "Saved",
        saving: "Saving…",
        error: "Error",
        idleDash: "—",

        noRulesYetText: "No rules yet. Add your first rule below.",
        addDefaultRules: "Add default rules",
        addingDefaults: "Adding defaults…",

        addRuleTitle: "Add rule",
        addRuleBtn: "Add rule",
        addingRule: "Adding…",

        type: "Type",
        operator: "Operator",
        value: "Value",
        threshold: "Threshold",
        points: "Points",
        action: "Action",
        status: "Status",
        ruleLabel: "Rule",
        ruleMissingTooltip: "Rule not found (maybe deleted)",
        enabled: "Enabled",
        recentChangesTitle: "Recent changes",
        recentChangesSubtitle: "Latest 5 rule updates",
        loadMore: "Load more",
        loading: "Loading…",
        history: "History",
        noHistory: "No changes yet.",
        by: "by",
        delete: "Delete",

        on: "On",
        off: "Off",

        deleteConfirm: "Delete this rule?",

        ruleType_ORDER_VALUE: "Order value",
        ruleType_ORDER_VALUE_desc: "Total order amount",
        ruleType_FIRST_TIME: "First-time customer",
        ruleType_FIRST_TIME_desc: "Customer has 0 or 1 previous orders",
        ruleType_HIGH_QTY: "High quantity",
        ruleType_HIGH_QTY_desc: "Total items in the order",
        ruleType_COUNTRY_MISMATCH: "Country mismatch",
        ruleType_COUNTRY_MISMATCH_desc: "Shipping and billing differ",

        ruleStatus_DRAFT: "Draft",
        ruleStatus_ACTIVE: "Active",
        ruleStatus_DEPRECATED: "Deprecated",

        change_enabled: "enabled",
        change_threshold: "threshold",
        change_weight: "weight",
        change_action: "action",
        change_status: "status",
        change_created: "created",
        change_deleted: "deleted",
        change_rule: "rule",
        change_ruleType: "rule type",

        actionPlaceholderInline: "REVIEW / HOLD / TAG:foo",
        actionPlaceholderAdd: "TAG:high_value / REVIEW / HOLD",
        valuePlaceholder: "300 / true / DE",
        pointsPlaceholder: "15",
        reasonFallback: "REASON",
        noChangeDetails: "No details",
        emptyValue: "—",

        errorUnsupportedRuleType: "Unsupported rule type",
        errorUnsupportedOperator: "Unsupported operator",
        errorValueRequired: "Value is required",
        errorPointsNumber: "Points must be a number",
        errorFirstTimeBool: "FIRST_TIME value must be true or false",
        errorUnsupportedStatus: "Unsupported status",
        errorDefaultsOnlyNoRules: "Defaults can be added only when there are no rules.",
        errorMissingId: "Missing id",
        errorRuleNotFound: "Rule not found",
        errorMissingRuleId: "Missing rule id",
        errorUnknownAction: "Unknown action",
        errorMissingOrderGid: "Missing order id",
        errorNoSnapshot: "No snapshot found for this order",

        examples: "Examples",
        recentEventsTitle: "Recent events",
        recentEventsSubtitle: "Last 20 webhooks received",
        noEventsYet: "No events yet.",
        evTime: "Time",
        evTopic: "Topic",
        evOrder: "Order",
        evDecision: "Decision",

        loginTitle: "Log in",
        loginButton: "Log in",
        shopDomainLabel: "Shop domain",
        shopDomainDetails: "example.myshopify.com",
        loginErrorMissingShop: "Please enter your shop domain to log in",
        loginErrorInvalidShop: "Please enter a valid shop domain to log in",

        landingHeading: "A short heading about [your app]",
        landingTagline: "A tagline about [your app] that describes your value proposition.",
        landingShopExample: "e.g: my-shop-domain.myshopify.com",
        landingFeatureTitle: "Product feature",
        landingFeatureDetail: "Some detail about your feature and its benefit to your customer.",

        additionalHeading: "Additional page",
        additionalSectionHeading: "Multiple pages",
        additionalPara1Before:
          "The app template comes with an additional page which demonstrates how to create multiple pages within app navigation using",
        additionalPara1Link: "App Bridge",
        additionalPara1After: ".",
        additionalPara2Before:
          "To create your own page and have it show up in the app navigation, add a page inside",
        additionalPara2Between: "and a link to it in the",
        additionalPara2After: "component found in",
        additionalPara2End: ".",
        additionalResourcesHeading: "Resources",
        additionalResourcesLink: "App nav best practices",
    },

    de: {
        appName: "RiskMate",
        navHome: "Start",
        navAdditional: "Zusatzseite",
        storeCurrency: "Shop-Währung",
        currencyUnknown: "Unbekannt",
        tabOrders: "Bestellungen",
        tabRules: "Regeln",
        tabEvents: "Events",

        setupChecklistTitle: "Setup-Checkliste",
        setupChecklistSubtitle: "2 Schritte, um konsistente Risiko-Checks zu sehen.",
        setup: "Setup",
        createRulesTitle: "Regeln erstellen",
        createRulesDone: "Regeln sind konfiguriert.",
        createRulesTodo: "Zum Tab „Regeln“ gehen und erste Regeln hinzufügen.",
        receiveWebhooksTitle: "Webhook-Events empfangen",
        receiveWebhooksDone: "Webhooks kommen an und Checks werden gespeichert.",
        receiveWebhooksTodo: "Testbestellung erstellen und updaten (orders/create + orders/updated).",
        quickLink: "Schnelllink",
        openOrdersInAdmin: "Bestellungen im Admin öffnen",

        ordersTitle: "Bestellungen",
        all: "Alle",
        high: "Hoch",
        medium: "Mittel",
        low: "Niedrig",

        noChecksYetTitle: "Noch nichts hier",
        noChecksYetText: "Noch keine Checks. Erstelle oder update eine Testbestellung, um Webhooks auszulösen.",

        thLastEvent: "Letztes Event",
        thUpdated: "Aktualisiert",
        thOrder: "Bestellung",
        thScore: "Score",
        thRisk: "Risiko",
        thTopReasons: "Top-Gründe",
        thLink: "Link",
        open: "Öffnen",

        riskChanged: "Risiko geändert",
        decision: "Entscheidung",
        decisionAllow: "Zulassen",
        decisionReview: "Prüfen",
        decisionHold: "Halten",
        rulesVersionLabel: "Regelsatz",
        evaluatedWithRuleset: "Bewertet mit Regelsatz",
        rulesetUnknown: "Kein Regelsatz",
        rulesetEmpty: "Regelsatz hat keine Regeln",
        rulesetFilterLabel: "Regelsatz",
        rulesetAll: "Alle Regelsätze",
        deprecated: "Veraltet",
        skipped: "Übersprungen",
        simulateWithCurrent: "Mit aktuellem Regelset simulieren",
        simulating: "Simuliere…",
        current: "Aktuell",
        simulated: "Simuliert",
        score: "Score",
        scoreDiff: "Score-Differenz",
        matchedRulesDiff: "Regeländerungen",
        added: "Hinzugefügt",
        removed: "Entfernt",
        skippedTooltipUnchanged: "Keine bedeutenden Bestelländerungen erkannt",
        skippedTooltipOutOfOrder: "Ein neueres Event existiert bereits für diese Bestellung",
        skippedTooltipNoRules: "Keine aktivierten Regeln passen auf diese Bestellung",
        skippedTooltipGeneric: "Übersprungen: {reason}",

        rulesTitle: "Regeln",
        rulesSubtitle: "Inline-Edit · Schwellenwerte in",
        saved: "Gespeichert",
        saving: "Speichern…",
        error: "Fehler",
        idleDash: "—",

        noRulesYetText: "Noch keine Regeln. Füge unten die erste Regel hinzu.",
        addDefaultRules: "Standardregeln hinzufügen",
        addingDefaults: "Standardregeln…",

        addRuleTitle: "Regel hinzufügen",
        addRuleBtn: "Regel hinzufügen",
        addingRule: "Hinzufügen…",

        type: "Typ",
        operator: "Operator",
        value: "Wert",
        threshold: "Schwelle",
        points: "Punkte",
        action: "Aktion",
        status: "Status",
        ruleLabel: "Regel",
        ruleMissingTooltip: "Regel nicht gefunden (evtl. gelöscht)",
        enabled: "Aktiv",
        recentChangesTitle: "Letzte Änderungen",
        recentChangesSubtitle: "Letzte 5 Regeländerungen",
        loadMore: "Mehr laden",
        loading: "Lädt…",
        history: "Verlauf",
        noHistory: "Noch keine Änderungen.",
        by: "von",
        delete: "Löschen",

        on: "An",
        off: "Aus",

        deleteConfirm: "Diese Regel löschen?",

        ruleType_ORDER_VALUE: "Bestellwert",
        ruleType_ORDER_VALUE_desc: "Gesamtbetrag der Bestellung",
        ruleType_FIRST_TIME: "Erstbesteller",
        ruleType_FIRST_TIME_desc: "Kunde hat 0 oder 1 frühere Bestellungen",
        ruleType_HIGH_QTY: "Hohe Menge",
        ruleType_HIGH_QTY_desc: "Gesamtanzahl der Artikel",
        ruleType_COUNTRY_MISMATCH: "Land stimmt nicht überein",
        ruleType_COUNTRY_MISMATCH_desc: "Liefer- und Rechnungsland unterscheiden sich",

        ruleStatus_DRAFT: "Entwurf",
        ruleStatus_ACTIVE: "Aktiv",
        ruleStatus_DEPRECATED: "Veraltet",

        change_enabled: "aktiviert",
        change_threshold: "Schwelle",
        change_weight: "Gewichtung",
        change_action: "Aktion",
        change_status: "Status",
        change_created: "erstellt",
        change_deleted: "gelöscht",
        change_rule: "Regel",
        change_ruleType: "Regeltyp",

        actionPlaceholderInline: "REVIEW / HOLD / TAG:foo",
        actionPlaceholderAdd: "TAG:high_value / REVIEW / HOLD",
        valuePlaceholder: "300 / true / DE",
        pointsPlaceholder: "15",
        reasonFallback: "GRUND",
        noChangeDetails: "Keine Details",
        emptyValue: "—",

        errorUnsupportedRuleType: "Nicht unterstützter Regeltyp",
        errorUnsupportedOperator: "Nicht unterstützter Operator",
        errorValueRequired: "Wert ist erforderlich",
        errorPointsNumber: "Punkte müssen eine Zahl sein",
        errorFirstTimeBool: "FIRST_TIME-Wert muss true oder false sein",
        errorUnsupportedStatus: "Nicht unterstützter Status",
        errorDefaultsOnlyNoRules: "Standardregeln können nur hinzugefügt werden, wenn keine Regeln existieren.",
        errorMissingId: "ID fehlt",
        errorRuleNotFound: "Regel nicht gefunden",
        errorMissingRuleId: "Regel-ID fehlt",
        errorUnknownAction: "Unbekannte Aktion",
        errorMissingOrderGid: "Bestell-ID fehlt",
        errorNoSnapshot: "Kein Snapshot für diese Bestellung gefunden",

        examples: "Beispiele",
        recentEventsTitle: "Letzte Events",
        recentEventsSubtitle: "Letzte 20 Webhooks",
        noEventsYet: "Noch keine Events.",
        evTime: "Zeit",
        evTopic: "Topic",
        evOrder: "Bestellung",
        evDecision: "Entscheidung",

        loginTitle: "Anmelden",
        loginButton: "Anmelden",
        shopDomainLabel: "Shop-Domain",
        shopDomainDetails: "example.myshopify.com",
        loginErrorMissingShop: "Bitte gib deine Shop-Domain zum Anmelden ein",
        loginErrorInvalidShop: "Bitte gib eine gültige Shop-Domain zum Anmelden ein",

        landingHeading: "Eine kurze Überschrift über [deine App]",
        landingTagline: "Ein kurzer Slogan über [deine App], der dein Wertversprechen beschreibt.",
        landingShopExample: "z. B.: my-shop-domain.myshopify.com",
        landingFeatureTitle: "Produktfeature",
        landingFeatureDetail: "Ein Detail zu deinem Feature und seinem Nutzen.",

        additionalHeading: "Zusatzseite",
        additionalSectionHeading: "Mehrere Seiten",
        additionalPara1Before:
          "Die App-Vorlage enthält eine zusätzliche Seite, die zeigt, wie man mehrere Seiten in der App-Navigation mit",
        additionalPara1Link: "App Bridge",
        additionalPara1After: " erstellt.",
        additionalPara2Before:
          "Um deine eigene Seite zu erstellen und sie in der App-Navigation anzuzeigen, füge eine Seite in",
        additionalPara2Between: "hinzu und verlinke sie im",
        additionalPara2After: "Baustein in",
        additionalPara2End: ".",
        additionalResourcesHeading: "Ressourcen",
        additionalResourcesLink: "Best Practices für App-Navigation",
    },

    es: {
        appName: "RiskMate",
        storeCurrency: "Moneda de la tienda",
        navHome: "Inicio",
        navAdditional: "Página adicional",
        currencyUnknown: "Desconocida",
        tabOrders: "Pedidos",
        tabRules: "Reglas",
        tabEvents: "Eventos",
        setupChecklistTitle: "Lista de configuración",
        setupChecklistSubtitle: "2 pasos para ver comprobaciones consistentes.",
        setup: "Config",
        createRulesTitle: "Crear reglas",
        createRulesDone: "Reglas configuradas.",
        createRulesTodo: "Ve a Reglas y añade tus primeras reglas.",
        receiveWebhooksTitle: "Recibir webhooks",
        receiveWebhooksDone: "Los webhooks llegan y se guardan checks.",
        receiveWebhooksTodo: "Crea un pedido de prueba y actualízalo (orders/create + orders/updated).",
        quickLink: "Enlace rápido",
        openOrdersInAdmin: "Abrir pedidos en Admin",

        ordersTitle: "Pedidos",
        all: "Todos",
        high: "Alto",
        medium: "Medio",
        low: "Bajo",

        noChecksYetTitle: "Aún no hay nada",
        noChecksYetText: "Aún no hay checks. Crea o actualiza un pedido de prueba para disparar webhooks.",

        thLastEvent: "Último evento",
        thUpdated: "Actualizado",
        thOrder: "Pedido",
        thScore: "Puntuación",
        thRisk: "Riesgo",
        thTopReasons: "Motivos",
        thLink: "Enlace",
        open: "Abrir",

        riskChanged: "Riesgo cambió",
        decision: "Decisión",
        decisionAllow: "Permitir",
        decisionReview: "Revisar",
        decisionHold: "Retener",
        rulesVersionLabel: "Conjunto de reglas",
        evaluatedWithRuleset: "Evaluado con conjunto de reglas",
        rulesetUnknown: "Sin conjunto de reglas",
        rulesetEmpty: "El conjunto no tiene reglas",
        rulesetFilterLabel: "Conjunto de reglas",
        rulesetAll: "Todos los conjuntos",
        deprecated: "Obsoleto",
        skipped: "Omitido",
        simulateWithCurrent: "Simular con reglas actuales",
        simulating: "Simulando…",
        current: "Actual",
        simulated: "Simulado",
        score: "Puntuación",
        scoreDiff: "Diferencia de puntuación",
        matchedRulesDiff: "Cambios de reglas",
        added: "Añadido",
        removed: "Eliminado",
        skippedTooltipUnchanged: "No se detectaron cambios significativos en el pedido",
        skippedTooltipOutOfOrder: "Ya existe un evento más reciente para este pedido",
        skippedTooltipNoRules: "Ninguna regla activa coincide con este pedido",
        skippedTooltipGeneric: "Omitido: {reason}",

        rulesTitle: "Reglas",
        rulesSubtitle: "Edición inline · umbrales en",
        saved: "Guardado",
        saving: "Guardando…",
        error: "Error",
        idleDash: "—",

        noRulesYetText: "Aún no hay reglas. Añade tu primera regla abajo.",
        addDefaultRules: "Añadir reglas por defecto",
        addingDefaults: "Añadiendo…",

        addRuleTitle: "Añadir regla",
        addRuleBtn: "Añadir regla",
        addingRule: "Añadiendo…",

        type: "Tipo",
        operator: "Operador",
        value: "Valor",
        threshold: "Umbral",
        points: "Puntos",
        action: "Acción",
        status: "Estado",
        ruleLabel: "Regla",
        ruleMissingTooltip: "Regla no encontrada (quizá eliminada)",
        enabled: "Activo",
        recentChangesTitle: "Cambios recientes",
        recentChangesSubtitle: "Últimas 5 actualizaciones",
        loadMore: "Cargar más",
        loading: "Cargando…",
        history: "Historial",
        noHistory: "Aún no hay cambios.",
        by: "por",
        delete: "Borrar",

        on: "Activado",
        off: "Desactivado",

        deleteConfirm: "¿Borrar esta regla?",

        ruleType_ORDER_VALUE: "Valor del pedido",
        ruleType_ORDER_VALUE_desc: "Importe total del pedido",
        ruleType_FIRST_TIME: "Cliente nuevo",
        ruleType_FIRST_TIME_desc: "Cliente con 0 o 1 pedidos previos",
        ruleType_HIGH_QTY: "Cantidad alta",
        ruleType_HIGH_QTY_desc: "Total de artículos del pedido",
        ruleType_COUNTRY_MISMATCH: "Países distintos",
        ruleType_COUNTRY_MISMATCH_desc: "Envío y facturación son distintos",

        ruleStatus_DRAFT: "Borrador",
        ruleStatus_ACTIVE: "Activo",
        ruleStatus_DEPRECATED: "Obsoleto",

        change_enabled: "habilitado",
        change_threshold: "umbral",
        change_weight: "peso",
        change_action: "acción",
        change_status: "estado",
        change_created: "creado",
        change_deleted: "eliminado",
        change_rule: "regla",
        change_ruleType: "tipo de regla",

        actionPlaceholderInline: "REVIEW / HOLD / TAG:foo",
        actionPlaceholderAdd: "TAG:high_value / REVIEW / HOLD",
        valuePlaceholder: "300 / true / DE",
        pointsPlaceholder: "15",
        reasonFallback: "MOTIVO",
        noChangeDetails: "Sin detalles",
        emptyValue: "—",

        errorUnsupportedRuleType: "Tipo de regla no compatible",
        errorUnsupportedOperator: "Operador no compatible",
        errorValueRequired: "El valor es obligatorio",
        errorPointsNumber: "Los puntos deben ser un número",
        errorFirstTimeBool: "FIRST_TIME debe ser true o false",
        errorUnsupportedStatus: "Estado no compatible",
        errorDefaultsOnlyNoRules: "Los valores por defecto solo se pueden añadir cuando no hay reglas.",
        errorMissingId: "Falta el id",
        errorRuleNotFound: "Regla no encontrada",
        errorMissingRuleId: "Falta el id de la regla",
        errorUnknownAction: "Acción desconocida",
        errorMissingOrderGid: "Falta el id del pedido",
        errorNoSnapshot: "No se encontró snapshot para este pedido",

        examples: "Ejemplos",
        recentEventsTitle: "Eventos recientes",
        recentEventsSubtitle: "Últimos 20 webhooks",
        noEventsYet: "Aún no hay eventos.",
        evTime: "Hora",
        evTopic: "Topic",
        evOrder: "Pedido",
        evDecision: "Decisión",

        loginTitle: "Iniciar sesión",
        loginButton: "Iniciar sesión",
        shopDomainLabel: "Dominio de la tienda",
        shopDomainDetails: "example.myshopify.com",
        loginErrorMissingShop: "Introduce el dominio de tu tienda para iniciar sesión",
        loginErrorInvalidShop: "Introduce un dominio de tienda válido para iniciar sesión",

        landingHeading: "Un encabezado breve sobre [tu app]",
        landingTagline: "Un eslogan sobre [tu app] que describe tu propuesta de valor.",
        landingShopExample: "p. ej.: my-shop-domain.myshopify.com",
        landingFeatureTitle: "Funcionalidad del producto",
        landingFeatureDetail: "Algún detalle sobre tu funcionalidad y su beneficio.",

        additionalHeading: "Página adicional",
        additionalSectionHeading: "Múltiples páginas",
        additionalPara1Before:
          "La plantilla de la app incluye una página adicional que muestra cómo crear varias páginas en la navegación de la app usando",
        additionalPara1Link: "App Bridge",
        additionalPara1After: ".",
        additionalPara2Before:
          "Para crear tu propia página y que aparezca en la navegación, agrega una página en",
        additionalPara2Between: "y un enlace en el componente",
        additionalPara2After: "ubicado en",
        additionalPara2End: ".",
        additionalResourcesHeading: "Recursos",
        additionalResourcesLink: "Buenas prácticas de navegación de apps",
    },

    fr: {
        appName: "RiskMate",
        storeCurrency: "Devise de la boutique",
        navHome: "Accueil",
        navAdditional: "Page supplémentaire",
        currencyUnknown: "Inconnue",
        tabOrders: "Commandes",
        tabRules: "Règles",
        tabEvents: "Événements",
        setupChecklistTitle: "Checklist de configuration",
        setupChecklistSubtitle: "2 étapes pour voir des contrôles cohérents.",
        setup: "Configuration",
        createRulesTitle: "Créer des règles",
        createRulesDone: "Règles configurées.",
        createRulesTodo: "Aller à l’onglet Règles et ajouter les premières règles.",
        receiveWebhooksTitle: "Recevoir des webhooks",
        receiveWebhooksDone: "Les webhooks arrivent et les checks sont enregistrés.",
        receiveWebhooksTodo: "Créer une commande de test et la mettre à jour (orders/create + orders/updated).",
        quickLink: "Lien rapide",
        openOrdersInAdmin: "Ouvrir les commandes dans l’Admin",

        ordersTitle: "Commandes",
        all: "Toutes",
        high: "Élevé",
        medium: "Moyen",
        low: "Faible",

        noChecksYetTitle: "Rien pour l’instant",
        noChecksYetText: "Pas encore de checks. Crée ou mets à jour une commande de test pour déclencher les webhooks.",

        thLastEvent: "Dernier événement",
        thUpdated: "Mis à jour",
        thOrder: "Commande",
        thScore: "Score",
        thRisk: "Risque",
        thTopReasons: "Raisons",
        thLink: "Lien",
        open: "Ouvrir",

        riskChanged: "Risque modifié",
        decision: "Décision",
        decisionAllow: "Autoriser",
        decisionReview: "Vérifier",
        decisionHold: "Retenir",
        rulesVersionLabel: "Ensemble de règles",
        evaluatedWithRuleset: "Évalué avec l'ensemble de règles",
        rulesetUnknown: "Aucun ensemble de règles",
        rulesetEmpty: "L'ensemble ne contient aucune règle",
        rulesetFilterLabel: "Ensemble de règles",
        rulesetAll: "Tous les ensembles",
        deprecated: "Obsolète",
        skipped: "Ignoré",
        simulateWithCurrent: "Simuler avec les règles actuelles",
        simulating: "Simulation…",
        current: "Actuel",
        simulated: "Simulé",
        score: "Score",
        scoreDiff: "Écart de score",
        matchedRulesDiff: "Changements de règles",
        added: "Ajouté",
        removed: "Supprimé",
        skippedTooltipUnchanged: "Aucun changement significatif de commande détecté",
        skippedTooltipOutOfOrder: "Un événement plus récent existe déjà pour cette commande",
        skippedTooltipNoRules: "Aucune règle activée ne correspond à cette commande",
        skippedTooltipGeneric: "Ignoré : {reason}",

        rulesTitle: "Règles",
        rulesSubtitle: "Édition inline · seuils en",
        saved: "Enregistré",
        saving: "Enregistrement…",
        error: "Erreur",
        idleDash: "—",

        noRulesYetText: "Pas encore de règles. Ajoute ta première règle ci-dessous.",
        addDefaultRules: "Ajouter les règles par défaut",
        addingDefaults: "Ajout…",

        addRuleTitle: "Ajouter une règle",
        addRuleBtn: "Ajouter",
        addingRule: "Ajout…",

        type: "Type",
        operator: "Opérateur",
        value: "Valeur",
        threshold: "Seuil",
        points: "Points",
        action: "Action",
        status: "Statut",
        ruleLabel: "Règle",
        ruleMissingTooltip: "Règle introuvable (peut-être supprimée)",
        enabled: "Actif",
        recentChangesTitle: "Modifications récentes",
        recentChangesSubtitle: "5 dernières modifications",
        loadMore: "Charger plus",
        loading: "Chargement…",
        history: "Historique",
        noHistory: "Aucun changement pour l'instant.",
        by: "par",
        delete: "Supprimer",

        on: "Activé",
        off: "Désactivé",

        deleteConfirm: "Supprimer cette règle ?",

        ruleType_ORDER_VALUE: "Valeur de commande",
        ruleType_ORDER_VALUE_desc: "Montant total de la commande",
        ruleType_FIRST_TIME: "Premier achat",
        ruleType_FIRST_TIME_desc: "Client avec 0 ou 1 commande précédente",
        ruleType_HIGH_QTY: "Quantité élevée",
        ruleType_HIGH_QTY_desc: "Total d’articles de la commande",
        ruleType_COUNTRY_MISMATCH: "Pays différents",
        ruleType_COUNTRY_MISMATCH_desc: "Livraison et facturation diffèrent",

        ruleStatus_DRAFT: "Brouillon",
        ruleStatus_ACTIVE: "Actif",
        ruleStatus_DEPRECATED: "Obsolète",

        change_enabled: "activé",
        change_threshold: "seuil",
        change_weight: "poids",
        change_action: "action",
        change_status: "statut",
        change_created: "créé",
        change_deleted: "supprimé",
        change_rule: "règle",
        change_ruleType: "type de règle",

        actionPlaceholderInline: "REVIEW / HOLD / TAG:foo",
        actionPlaceholderAdd: "TAG:high_value / REVIEW / HOLD",
        valuePlaceholder: "300 / true / DE",
        pointsPlaceholder: "15",
        reasonFallback: "RAISON",
        noChangeDetails: "Aucun détail",
        emptyValue: "—",

        errorUnsupportedRuleType: "Type de règle non pris en charge",
        errorUnsupportedOperator: "Opérateur non pris en charge",
        errorValueRequired: "La valeur est requise",
        errorPointsNumber: "Les points doivent être un nombre",
        errorFirstTimeBool: "FIRST_TIME doit être true ou false",
        errorUnsupportedStatus: "Statut non pris en charge",
        errorDefaultsOnlyNoRules: "Les règles par défaut ne peuvent être ajoutées que s'il n'y a aucune règle.",
        errorMissingId: "ID manquant",
        errorRuleNotFound: "Règle introuvable",
        errorMissingRuleId: "ID de règle manquant",
        errorUnknownAction: "Action inconnue",
        errorMissingOrderGid: "ID de commande manquant",
        errorNoSnapshot: "Aucun snapshot trouvé pour cette commande",

        examples: "Exemples",
        recentEventsTitle: "Événements récents",
        recentEventsSubtitle: "20 derniers webhooks",
        noEventsYet: "Pas encore d’événements.",
        evTime: "Heure",
        evTopic: "Topic",
        evOrder: "Commande",
        evDecision: "Décision",

        loginTitle: "Se connecter",
        loginButton: "Se connecter",
        shopDomainLabel: "Domaine de la boutique",
        shopDomainDetails: "example.myshopify.com",
        loginErrorMissingShop: "Veuillez saisir le domaine de votre boutique pour vous connecter",
        loginErrorInvalidShop: "Veuillez saisir un domaine de boutique valide pour vous connecter",

        landingHeading: "Un court titre sur [votre app]",
        landingTagline: "Un slogan sur [votre app] qui décrit votre proposition de valeur.",
        landingShopExample: "ex. : my-shop-domain.myshopify.com",
        landingFeatureTitle: "Fonctionnalité produit",
        landingFeatureDetail: "Un détail sur votre fonctionnalité et son bénéfice.",

        additionalHeading: "Page supplémentaire",
        additionalSectionHeading: "Plusieurs pages",
        additionalPara1Before:
          "Le modèle d'app inclut une page supplémentaire qui montre comment créer plusieurs pages dans la navigation de l'app avec",
        additionalPara1Link: "App Bridge",
        additionalPara1After: ".",
        additionalPara2Before:
          "Pour créer votre propre page et l'afficher dans la navigation, ajoutez une page dans",
        additionalPara2Between: "et un lien dans le composant",
        additionalPara2After: "situé dans",
        additionalPara2End: ".",
        additionalResourcesHeading: "Ressources",
        additionalResourcesLink: "Bonnes pratiques de navigation des apps",
    },

    ru: {
        appName: "RiskMate",
        storeCurrency: "Валюта магазина",
        navHome: "Главная",
        navAdditional: "Доп. страница",
        currencyUnknown: "Неизвестно",
        tabOrders: "Заказы",
        tabRules: "Правила",
        tabEvents: "События",

        setupChecklistTitle: "Чеклист настройки",
        setupChecklistSubtitle: "2 шага, чтобы видеть стабильные риск-проверки.",
        setup: "Настройка",
        createRulesTitle: "Создать правила",
        createRulesDone: "Правила настроены.",
        createRulesTodo: "Открой вкладку Правила и добавь первые правила.",
        receiveWebhooksTitle: "Получать вебхуки",
        receiveWebhooksDone: "Вебхуки приходят, проверки сохраняются.",
        receiveWebhooksTodo: "Создай тестовый заказ и обнови его (orders/create + orders/updated).",
        quickLink: "Быстрая ссылка",
        openOrdersInAdmin: "Открыть заказы в админке",

        ordersTitle: "Заказы",
        all: "Все",
        high: "Высокий",
        medium: "Средний",
        low: "Низкий",

        noChecksYetTitle: "Пока пусто",
        noChecksYetText: "Проверок ещё нет. Создай/обнови тестовый заказ, чтобы сработали вебхуки.",

        thLastEvent: "Последнее событие",
        thUpdated: "Обновлено",
        thOrder: "Заказ",
        thScore: "Скор",
        thRisk: "Риск",
        thTopReasons: "Причины",
        thLink: "Ссылка",
        open: "Открыть",

        riskChanged: "Риск изменен",
        decision: "Решение",
        decisionAllow: "Разрешить",
        decisionReview: "Проверка",
        decisionHold: "Удержать",
        rulesVersionLabel: "Набор правил",
        evaluatedWithRuleset: "Оценено по набору правил",
        rulesetUnknown: "Набор правил не указан",
        rulesetEmpty: "В наборе нет правил",
        rulesetFilterLabel: "Набор правил",
        rulesetAll: "Все наборы",
        deprecated: "Устаревшее",
        skipped: "Пропущено",
        simulateWithCurrent: "Симулировать с текущими правилами",
        simulating: "Симуляция…",
        current: "Текущее",
        simulated: "Симуляция",
        score: "Скор",
        scoreDiff: "Разница скора",
        matchedRulesDiff: "Изменения правил",
        added: "Добавлено",
        removed: "Убрано",
        skippedTooltipUnchanged: "Нет значимых изменений заказа",
        skippedTooltipOutOfOrder: "Для этого заказа уже есть более новое событие",
        skippedTooltipNoRules: "Нет активных правил для этого заказа",
        skippedTooltipGeneric: "Пропущено: {reason}",

        rulesTitle: "Правила",
        rulesSubtitle: "Инлайн-редактирование · пороги в",
        saved: "Сохранено",
        saving: "Сохранение…",
        error: "Ошибка",
        idleDash: "—",

        noRulesYetText: "Правил ещё нет. Добавь первое правило ниже.",
        addDefaultRules: "Добавить дефолтные правила",
        addingDefaults: "Добавляю…",

        addRuleTitle: "Добавить правило",
        addRuleBtn: "Добавить правило",
        addingRule: "Добавление…",

        type: "Тип",
        operator: "Оператор",
        value: "Значение",
        threshold: "Порог",
        points: "Баллы",
        action: "Действие",
        status: "Статус",
        ruleLabel: "Правило",
        ruleMissingTooltip: "Правило не найдено (возможно удалено)",
        enabled: "Включено",
        recentChangesTitle: "Последние изменения",
        recentChangesSubtitle: "Последние 5 изменений правил",
        loadMore: "Показать еще",
        loading: "Загрузка…",
        history: "История",
        noHistory: "Изменений пока нет.",
        by: "кем",
        delete: "Удалить",

        on: "Вкл",
        off: "Выкл",

        deleteConfirm: "Удалить это правило?",

        ruleType_ORDER_VALUE: "Сумма заказа",
        ruleType_ORDER_VALUE_desc: "Общая сумма заказа",
        ruleType_FIRST_TIME: "Первый заказ",
        ruleType_FIRST_TIME_desc: "У клиента 0 или 1 прошлых заказа",
        ruleType_HIGH_QTY: "Большое количество",
        ruleType_HIGH_QTY_desc: "Общее число товаров в заказе",
        ruleType_COUNTRY_MISMATCH: "Несовпадение стран",
        ruleType_COUNTRY_MISMATCH_desc: "Страны доставки и оплаты различаются",

        examples: "Примеры",
        recentEventsTitle: "Последние события",
        recentEventsSubtitle: "Последние 20 вебхуков",
        noEventsYet: "Событий пока нет.",
        evTime: "Время",
        evTopic: "Топик",
        evOrder: "Заказ",
        evDecision: "Решение",

        actionPlaceholderInline: "REVIEW / HOLD / TAG:foo",
        actionPlaceholderAdd: "TAG:high_value / REVIEW / HOLD",
        valuePlaceholder: "300 / true / DE",
        pointsPlaceholder: "15",
        reasonFallback: "ПРИЧИНА",
        noChangeDetails: "Нет деталей",
        emptyValue: "—",

        errorUnsupportedRuleType: "Неподдерживаемый тип правила",
        errorUnsupportedOperator: "Неподдерживаемый оператор",
        errorValueRequired: "Нужно указать значение",
        errorPointsNumber: "Баллы должны быть числом",
        errorFirstTimeBool: "FIRST_TIME должен быть true или false",
        errorUnsupportedStatus: "Неподдерживаемый статус",
        errorDefaultsOnlyNoRules: "Дефолтные правила можно добавить только когда правил нет.",
        errorMissingId: "Отсутствует id",
        errorRuleNotFound: "Правило не найдено",
        errorMissingRuleId: "Отсутствует id правила",
        errorUnknownAction: "Неизвестное действие",
        errorMissingOrderGid: "Отсутствует id заказа",
        errorNoSnapshot: "Нет snapshot для этого заказа",

        ruleStatus_DRAFT: "Черновик",
        ruleStatus_ACTIVE: "Активно",
        ruleStatus_DEPRECATED: "Устарело",

        change_enabled: "включено",
        change_threshold: "порог",
        change_weight: "вес",
        change_action: "действие",
        change_status: "статус",
        change_created: "создано",
        change_deleted: "удалено",
        change_rule: "правило",
        change_ruleType: "тип правила",

        loginTitle: "Войти",
        loginButton: "Войти",
        shopDomainLabel: "Домен магазина",
        shopDomainDetails: "example.myshopify.com",
        loginErrorMissingShop: "Введите домен магазина для входа",
        loginErrorInvalidShop: "Введите корректный домен магазина для входа",

        landingHeading: "Короткий заголовок о [вашем приложении]",
        landingTagline: "Слоган о [вашем приложении], который описывает вашу ценность.",
        landingShopExample: "например: my-shop-domain.myshopify.com",
        landingFeatureTitle: "Фича продукта",
        landingFeatureDetail: "Деталь о вашей фиче и ее пользе для клиента.",

        additionalHeading: "Дополнительная страница",
        additionalSectionHeading: "Несколько страниц",
        additionalPara1Before:
          "Шаблон приложения содержит дополнительную страницу, которая показывает, как создавать несколько страниц в навигации приложения с помощью",
        additionalPara1Link: "App Bridge",
        additionalPara1After: ".",
        additionalPara2Before: "Чтобы создать свою страницу и добавить ее в навигацию, добавьте страницу в",
        additionalPara2Between: "и ссылку на нее в компонент",
        additionalPara2After: "в",
        additionalPara2End: ".",
        additionalResourcesHeading: "Ресурсы",
        additionalResourcesLink: "Лучшие практики навигации приложения",
    },
};

export function t(lang: Lang, key: string, vars?: Record<string, string | number>) {
    const dict = STRINGS[lang] ?? STRINGS.en;
    let s = dict[key] ?? STRINGS.en[key] ?? key;
    if (vars) {
        for (const [k, v] of Object.entries(vars)) {
            s = s.replaceAll(`{${k}}`, String(v));
        }
    }
    return s;
}
